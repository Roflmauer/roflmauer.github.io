<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pierre Meyer - Personal Website</title>
    <link href="styles.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="background-animation"></div>

   <header>
    <div class="container header-content-wrapper">
        <a href="index.html" aria-label="Go to homepage">
            <img src="profile.jpeg" alt="Pierre Meyer - Homepage" class="profile-pic-header">
        </a>
        <a href="index.html" class="header-text-link">
            <div class="header-text">
                <h1>Pierre Meyer</h1>
                <p>Business Development Manager | Multilingual Professional | Based in Taipei</p>
            </div>
        </a>
    </div>
</header>

    <main class="container">
    <section>
        <h2 class="index-section-title">About Me</h2>
        
        <img src="profile.jpeg" alt="Pierre Meyer" class="profile-pic-about-me">

        <p>
            Pierre Meyer here – a Business Development Manager with a 7-year track record of building bridges and
            revenue between Asia (Taiwan/China) and Europe/US, specializing in strategic partnerships and navigating 
            global markets. Fluency in German, English, and Mandarin, coupled with experience in regulatory compliance 
            and project management, forms the bedrock of my professional expertise.
        </p>
        <p>
            But I don't just stop at the conventional. I'm an avid adopter of new technologies with a keen interest in
            AI and blockchain. My proactive approach to learning allows me to quickly master and leverage emerging tech
            to create impactful digital solutions, as demonstrated by projects like this very website. I bring a unique
            combination: proven international business development skills and a demonstrated ability to rapidly integrate
            new tools and methodologies to achieve results. If you're looking for someone who can connect with global
            partners and embrace the future of business, let's talk.
        </p>
    </section>

    <hr class="divider">

    <section>
        <h2 class="index-section-title">My CV</h2>
        <p>
            <a href="CV.pdf" target="_blank" class="cv-button">Download My CV</a>
        </p>
    </section>

    <hr class="divider">

    <section id="projects"> 
        <h2 class="index-section-title">Professional Showcase & Analytical Insights</h2>
        <p>Explore key professional achievements and some of the data-driven projects and market analyses I've developed.</p>

        <h3 class="project-subsection-title">Key Professional Achievements</h3>
        <div class="projects-grid"> 
            <div class="project-entry">
                <p><a href="key_account_case_study.html" class="cv-button">Case Study: Key Account & Packaging Innovation</a></p>
                <p class="project-description">
                    A detailed look at how proactive market analysis and strategic sourcing led to a multi-year, high-volume contract (1M+ units/year) with a leading German cosmetics firm.
                </p>
            </div>
            <div class="project-entry">
                <p><a href="shipping_crisis_response.html" class="cv-button">Case Study: Navigating the 2024 Red Sea Shipping Crisis</a></p>
                <p class="project-description">
                    Highlighting how proactive monitoring and swift action ensured supply chain continuity for European clients during major global shipping disruptions.
                </p>
            </div>
        </div>

        <h3 class="project-subsection-title">Analytical Projects & Market Insights</h3>
        <div class="projects-grid"> 
            <div class="project-entry">
                <p><a href="taiwan_banking_report.html" class="cv-button">Taiwan's "Dual-Card Crisis" (卡債風暴) Analysis</a></p>
                <p class="project-description">
                    An analysis of Taiwan's domestic banking sector performance, focusing on the economic impact and recovery from the 2004-2006 credit card crisis, visualized with key financial metrics.
                </p>
            </div>

            <div class="project-entry">
                <p><a href="trade_report.html" class="cv-button">Taiwan-Germany Trade Dynamics</a></p>
                <p class="project-description">
                    Exploring the evolving trade relationship between Taiwan and Germany, highlighting key economic drivers like semiconductor demand and global shifts impacting bilateral trade.
                </p>
            </div>

            <div class="project-entry">
                <p><a href="taiwan_airlines_comparison.html" class="cv-button">Comparative Analysis: Taiwan's Major Airlines</a></p>
                <p class="project-description">
                    A comparative report on Taiwan's leading full-service airlines, examining their operational, financial, and strategic differences in a competitive aviation market.
                </p>
            </div>
        </div>
    </section>

    <hr class="divider">

    <section class="market-section">
        <h2 class="index-section-title">Live Market Prices</h2>
        <table class="market-table">
            <thead>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>Price</th>
                <th>24h Change</th>
                <th>Price Graph (7D)</th>
            </tr>
            </thead>
            <tbody id="market-table-body">
            <tr>
                <td>1</td>
                <td>
                    <img src="https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1696501457" alt="Bitcoin" width="24" style="vertical-align: middle; margin-right: 5px;">
                    Bitcoin (BTC)
                </td>
                <td id="btc-price">Loading...</td>
                <td id="btc-change" class="price-change">-</td>
                <td>
                    <div class="graph-container" id="btc-chart-container">
                        <canvas id="btc-chart"></canvas>
                        <p class="error-message crypto-chart-error" style="display:none; text-align:center; font-size:0.8em; color:#f85149;"></p>
                    </div>
                </td>
            </tr>
            <tr>
                <td>2</td>
                <td>
                    <img src="https://assets.coingecko.com/coins/images/279/large/ethereum.png?1696501628" alt="Ethereum" width="24" style="vertical-align: middle; margin-right: 5px;">
                    Ethereum (ETH)
                </td>
                <td id="eth-price">Loading...</td>
                <td id="eth-change" class="price-change">-</td>
                <td>
                    <div class="graph-container" id="eth-chart-container">
                        <canvas id="eth-chart"></canvas>
                        <p class="error-message crypto-chart-error" style="display:none; text-align:center; font-size:0.8em; color:#f85149;"></p>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </section>

    <hr class="divider">

    <section id="currency-exchange-section">
        <h2 class="index-section-title">Currency Exchange</h2>
        <div class="form-group">
            <label for="fromCurrency">From Currency</label>
            <select id="fromCurrency">
                <option value="USD">USD</option>
                <option value="EUR">EUR</option>
                <option value="GBP">GBP</option>
                <option value="JPY">JPY</option>
                <option value="CAD">CAD</option>
            </select>
        </div>
        <div class="form-group">
            <label for="toCurrency">To Currency</label>
            <select id="toCurrency">
                <option value="EUR">EUR</option>
                <option value="USD">USD</option>
                <option value="GBP">GBP</option>
                <option value="JPY">JPY</option>
                <option value="CAD">CAD</option>
            </select>
        </div>
        <div class="form-group">
            <label for="amount">Amount</label>
            <input type="number" id="amount" placeholder="Enter amount" value="100">
        </div>
        <button id="convert" class="btn">Convert</button>
        <div id="result" style="margin-top: 15px; text-align: center; font-weight: bold;"></div>
        <p id="error-message" class="error-message" style="min-height: 1.2em; text-align:center;"></p>
    </section>

    </main>

    <footer>
    <div class="container">
        <p>© <span id="currentYear"></span> Pierre Meyer | <a href="mailto:pierremeyer@outlook.de">Contact Me</a></p>
    </div>
    </footer>

    <script>
        // All your existing JavaScript remains the same
        const COINGECKO_API_URL = 'https://api.coingecko.com/api/v3';
        const marketTableBody = document.getElementById('market-table-body');
        const FETCH_INTERVAL = 120000; 
        let activeCharts = {}; 

        function formatPrice(price) {
            return `$${price.toLocaleString(undefined, {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2,
            })}`;
        }

        function updatePrice(coin, price, change) {
            const priceElement = document.getElementById(`${coin}-price`);
            const changeElement = document.getElementById(`${coin}-change`);
            if (priceElement) priceElement.textContent = `$${price.toFixed(2)}`;
            if (changeElement) {
            changeElement.textContent = `${change > 0 ? '▲' : '▼'} ${change.toFixed(2)}%`;
            changeElement.className = `price-change ${change > 0 ? 'positive' : 'negative'}`;
            }
        }

        async function fetchMarketData() {
            try {
            const response = await fetch(`${COINGECKO_API_URL}/simple/price?ids=bitcoin,ethereum&vs_currencies=usd&include_24hr_change=true`);
            const data = await response.json();

            if (!response.ok) {
                throw new Error(`Failed to fetch market data: ${response.status}`);
            }

            if (data.bitcoin) updatePrice('btc', data.bitcoin.usd, data.bitcoin.usd_24h_change);
            if (data.ethereum) updatePrice('eth', data.ethereum.usd, data.ethereum.usd_24h_change);

            if (document.getElementById('btc-chart')) fetchAndRenderChart('bitcoin', 'usd', 7, 'btc-chart');
            if (document.getElementById('eth-chart')) fetchAndRenderChart('ethereum', 'usd', 7, 'eth-chart');
            } catch (error) {
            console.error('Error fetching market data:', error);
            if(marketTableBody) marketTableBody.innerHTML = '<tr><td colspan="5" class="error-message" style="color:#f85149; text-align:center;">Market data unavailable.</td></tr>';
            }
        }

        async function fetchAndRenderChart(coinId, currency, days, chartId) {
            const chartCanvas = document.getElementById(chartId);
            const errorDisplay = chartCanvas ? chartCanvas.parentElement.querySelector('.crypto-chart-error') : null; 

            if (!chartCanvas) {
                console.warn(`Canvas with ID ${chartId} not found.`);
                return;
            }
            if(errorDisplay) errorDisplay.style.display = 'none';
            try {
            const response = await fetch(`${COINGECKO_API_URL}/coins/${coinId}/market_chart?vs_currency=${currency}&days=${days}`);
            const historicalData = await response.json();

            if (!response.ok) {
                throw new Error(`API error for ${coinId} chart: ${response.status}`);
            }
            if (!historicalData || !historicalData.prices || historicalData.prices.length === 0) {
                throw new Error(`No price data for ${coinId} chart.`);
            }

            const prices = historicalData.prices.map(p => p[1]);
            const timestamps = historicalData.prices.map(p => new Date(p[0]).toLocaleDateString());

            renderChart(chartId, timestamps, prices, coinId);
            } catch (error) {
            console.error(`Error fetching/rendering chart data for ${coinId}:`, error);
            if (errorDisplay) {
                errorDisplay.textContent = `Chart data unavailable.`;
                errorDisplay.style.display = 'block';
            }
            }
        }

        function renderChart(chartId, labels, data, coin) {
            const ctx = document.getElementById(chartId).getContext('2d');
            if (activeCharts[chartId]) {
                activeCharts[chartId].destroy();
            }
            activeCharts[chartId] = new Chart(ctx, {
                type: 'line',
                data: {
                labels: labels,
                datasets: [{
                    label: `${coin.toUpperCase()} Price (USD)`,
                    data: data,
                    borderColor: coin === 'bitcoin' ? '#FF6B00' : '#4299E1', 
                    borderWidth: 1.5, 
                    fill: false,
                    pointRadius: 0,
                    tension: 0.4
                }]
                },
                options: {
                responsive: true,
                maintainAspectRatio: false,
                animation: { duration: 0 }, 
                scales: { x: { display: false }, y: { display: false } },
                plugins: { legend: { display: false }, tooltip: { enabled: false } } 
                }
            });
        }

        const fromCurrencySelect = document.getElementById('fromCurrency');
        const toCurrencySelect = document.getElementById('toCurrency');
        const amountInput = document.getElementById('amount');
        const resultDiv = document.getElementById('result');
        const convertButton = document.getElementById('convert');
        const errorMessageDisplay = document.getElementById('error-message');

        const FCA_API_KEY = 'fca_live_TCzp4mzJTKxEnVhsjPYvb6qKWEmzZLgKqkwFsMkp'; 
        const FCA_BASE_URL = 'https://api.freecurrencyapi.com/v1/latest';
        if (convertButton && fromCurrencySelect && toCurrencySelect && amountInput && resultDiv && errorMessageDisplay) {
            convertButton.addEventListener('click', () => {
                const fromCurrency = fromCurrencySelect.value;
                const toCurrency = toCurrencySelect.value;
                const amount = parseFloat(amountInput.value);

                if (isNaN(amount) || amount <= 0) {
                    errorMessageDisplay.textContent = 'Please enter a valid amount.';
                    resultDiv.textContent = '';
                    return;
                }

                errorMessageDisplay.textContent = '';
                resultDiv.textContent = 'Converting...';

                fetch(`${FCA_BASE_URL}?apikey=${FCA_API_KEY}&base_currency=${fromCurrency}&currencies=${toCurrency}`)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error(`HTTP error! Status: ${response.status}`);
                        }
                        return response.json();
                    })
                    .then(data => {
                        if (data.data && data.data[toCurrency]) {
                            const conversionRate = data.data[toCurrency];
                            const convertedAmount = amount * conversionRate;
                            resultDiv.textContent = `${amount.toLocaleString()} ${fromCurrency} = ${convertedAmount.toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2})} ${toCurrency}`;
                        } else {
                            console.warn("Currency data not found in response:", data);
                            errorMessageDisplay.textContent = 'Could not get conversion rate. Please try again.';
                            resultDiv.textContent = '';
                        }
                    })
                    .catch(error => {
                        console.error('Error fetching conversion rate:', error);
                        errorMessageDisplay.textContent = 'Failed to fetch conversion rate. Check network or API key.';
                        resultDiv.textContent = '';
                    });
            });
        } else {
            console.error("One or more currency converter elements not found. Button functionality may be affected.");
        }

        if (marketTableBody) {
            fetchMarketData();
            setInterval(fetchMarketData, FETCH_INTERVAL);
        }
        // Update footer year
        const currentYearEl = document.getElementById('currentYear');
        if (currentYearEl) {
            currentYearEl.textContent = new Date().getFullYear();
        }
    </script>
</body>
</html>
